@charset 'utf-8';

@use 'sass:math';
@use '../helper/function';
@use '../helper/mixin';
@use '../helper/const';
@use '../helper/var';
@use '../helper/extend';

/**
 * 컴포넌트
 * 이미지, 백그라운드, 아이콘 등 이미지의 기본 단위
 */


/** exif orientation (정방형만 가능) */
.mm_orientation {
	// 반전
	&-2 {
		transform: scaleX(-1);
	}
	// 180도
	&-3 {
		transform: rotate(180deg);
	}
	// 180도 + 반전
	&-4 {
		transform: rotate(180deg) scaleX(-1);
	}
	// -90도 + 반전
	&-5 {
		transform: rotate(-90deg) scaleX(-1);
	}
	// -90도
	&-6 {
		transform: rotate(90deg);
	}
	// 90도 + 반전
	&-7 {
		transform: rotate(90deg) scaleX(-1);
	}
	// 90도
	&-8 {
		transform: rotate(-90deg);
	}
}

/** 모션(애니메이션) */
#{function.escape('.S=ani-spin')} {
	animation: frame-spin 1.5s infinite linear;
}

@keyframes frame-spin {
	0% {
		transform: rotate(0deg);
	}

	100% {
		transform: rotate(359deg);
	}
}

/** 백그라운드 이미지 */
.mm_bg,
.mui_bg {
	&-cover {
		@include mixin.background('50% 50%/cover' no-repeat);
	}

	&-contain {
		@include mixin.background('50% 50%/contain' no-repeat);
	}
}

/** 레이지로드 */
%loadBefore {
	opacity: 0;
	transition: opacity const.$time_base;
}

%loadAfter {
	opacity: 1;
}

[data-lazyload] {
	&:not(iframe) {
		@extend %loadBefore;

		&#{function.escape('.S=complete')},
		&#{function.escape('.S=error')} {
			@extend %loadAfter;
		}
	}
}

/** 기본형 */
.mm_image {
	// 이미지 없음
	&-none {
		position: relative;

		:not([data-ir]).ico_none::before {
			position: absolute;
			top: 50%;
			left: 50%;
			width: 45.56962%;
			height: 100%;
			transform: translate(-50%, -50%);
			@include mixin.svg(#ccc url('/image/common/logo_kbhc.svg'));
		}

		// 배너 이미지 없음 처리
		&.image_banner {
			width: 100%;
			height: 104px;
			background-color: #f5f5f5;

			.ico_none::before {
				position: absolute;
				top: 50%;
				right: 8px;
				left: 8px;
				transform: translateY(-50%);

				content: attr(data-ir);
				@include mixin.font(#a3a3a3 '1.2rem/1.7rem' center);
			}
		}
	}
}

/** 이미지 종류 */
.image_ {
	// 상품
	&product {
		@extend %imageProduct;
	}

	// 배너
	&banner {
		@extend %imageBanner;
	}

	// 브랜드
	&brand {
		@extend %imageBrand;
	}
}

/** 아이콘 */
i[class*='ico_'] {
	@include mixin.font('0/1');

	&::before {
		@include mixin.svg('50% 50%/contain' no-repeat);

		content: '';
	}
}

.ico_ {
	// 폼
	&form {
		// 체크박스
		&-check {
			position: relative;
			border-radius: 100%;
			background-color: #ccc;

			&:not([class*="#{function.escape('T=')}"]) {
				width: var.$form_check_height_base;
				height: var.$form_check_height_base;

				&::before {
					width: 16px;
					height: 16px;
					@include mixin.svg(#fff url('/image/common/ico_check_large.svg'));
				}
			}

			&#{function.escape('.T=sm')} {
				width: 20px;
				height: 20px;

				&::before {
					width: 15px;
					height: 15px;
					@include mixin.svg(#fff url('/image/common/ico_check_small.svg'));
				}
			}
		}

		// 라디오
		&-radio#{function.escape('.T=circle')} {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 20px;
			height: 20px;
			border-radius: 100%;
			background-color: #ccc;

			&::before {
				width: 15px;
				height: 15px;
				@include mixin.svg(#fff url('/image/common/ico_check_small.svg'));
			}
		}

		&-select {
			&:not([class*="#{function.escape('T=')}"])::before {
				width: 16px;
				height: 16px;
				@include mixin.svg(#444 url('/image/common/ico_arrow_down.svg'));
			}
		}

		// 삭제
		&-clear::before {
			width: 20px;
			height: 20px;
			@include mixin.svg(#8c949e url('/image/common/ico_input_delete.svg'));
		}
	}

	// 팝업
	&popup {
		&-close {
			&:not([class*="#{function.escape('T=')}"])::before {
				width: 24px;
				height: 24px;
				@include mixin.svg(var(--color_text_base) url('/image/common/ico_close_large.svg'));
			}

			&#{function.escape('.T=sm')}::before {
				width: 16px;
				height: 16px;
				@include mixin.svg(#444 url('/image/common/ico_close.svg'));
			}
		}
	}

	// 모달
	&modal {
		&-close::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(#666 url('/image/common/ico_bottom_close.svg'));
		}
	}

	// 오버레이
	&overlay {
		&-close::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(#666 url('/image/common/ico_bottom_close.svg'));
		}
	}

	// 히스토리
	&history {
		&-back::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(var(--color_text_base) url('/image/common/ico_back.svg'));
		}
	}

	// bom
	&bom {
		&-alert::before {
			width: 51px;
			height: 50px;
			@include mixin.svg(#dde1e4 url('/image/common/ico_admonition.svg'));
		}
	}

	// 페이지네이션
	&page {
		&-first::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_pg_double_left.svg'));
		}

		&-prev::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_pg_arrow_left.svg'));
		}

		&-next::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_pg_arrow_left.svg'));
			transform: rotate(180deg);
		}

		&-last::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_pg_double_left.svg'));
			transform: rotate(180deg);
		}
	}

	// TODO 멀티이미지
	&image {
		&-remove::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#cdcdcd url('/image/common/ico_close.svg'));
		}
	}

	// 드롭다운
	&dropdown {
		&:not([class*="#{function.escape('T=')}"])::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(var(--color_text_base) url('/image/common/ico_drop.svg'));
		}

		&#{function.escape('.T=sm')}::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#444 url('/image/common/ico_arrow_down.svg'));
		}
	}

	// 내용없음
	&text-none {
		display: block;
		position: relative;
		margin: 0 auto 17px;
		width: 60px;
		height: 60px;
		border-radius: 100%;
		background-color: #dde1e4;

		&::before,
		&::after {
			position: absolute;
			top: 14px;
			left: 50%;
			width: 4px;
			height: 20px;
			border-radius: 4px;
			background-color: #fff;
			transform: translateX(-50%);
			content: '';
		}

		&::after {
			top: auto;
			bottom: 17px;
			width: 6px;
			height: 6px;
			border-radius: 100%;
		}
	}

	// 유의사항
	&info::before {
		width: 20px;
		height: 20px;
		@include mixin.svg(#444 url('/image/common/ico_caption_normal.svg'));
		transform: rotate(180deg);
	}

	// 검색
	&search {
		&::before {
			width: 20px;
			height: 20px;
			@include mixin.svg(#444 url('/image/common/ico_search.svg'));
		}

		&#{function.escape('.T=lg')}::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(#222 url('/image/common/ico_input_search.svg'));
		}
	}

	// 장바구니
	&cart::before {
		width: 24px;
		height: 24px;
		@include mixin.svg(var(--color_text_base) url('/image/common/ico_shopping.svg'));
	}

	// 최상단
	&topmost::before {
		width: 10px;
		height: 10px;
		@include mixin.svg(#fff url('/image/common/ico_arrow_down.svg'));
		transform: rotate(180deg);
	}

	// 별
	&star {
		&::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#888 url('/image/common/ico_favorite_off.svg'));
		}

		&-fill::before {
			@include mixin.svg(#ffcc00 url('/image/common/ico_favorite_on.svg'));
		}
	}

	// 좋아요
	&like {
		&::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#888 url('/image/common/ico_heart_off.svg'));
		}

		&-fill::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#ff5858 url('/image/common/ico_heart_on.svg'));
		}

		&-brand::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(#666 url('/image/common/ico_home_heart.svg'));
		}
	}

	// 리뷰
	&review {
		&::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#888 url('/image/common/ico_comments.svg'));
		}

		&-write::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#222 url('/image/common/ico_create.svg'));
		}

		&-photo::before {
			width: 20px;
			height: 20px;
			@include mixin.svg(#888 url('/image/common/ico_camera.svg'));
		}
	}

	// 링크
	&link {
		&:not([class*="#{function.escape('T=')}"])::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#444 url('/image/common/ico_arrow_right.svg'));
		}

		&-arrow::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#ccc url('/image/common/ico_search_more.svg'));
		}
	}

	// 상품배열
	&array {
		&#{function.escape('.T=wide')}::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#888 url('/image/common/ico_list.svg'));
		}

		&#{function.escape('.T=card')}::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#888 url('/image/common/ico_low_list.svg'));
		}
	}

	// 필터
	&filter::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#888 url('/image/common/ico_filter_small.svg'));
	}

	// 배송
	&ship::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#888 url('/image/common/ico_delivery.svg'));
	}

	// 매장
	&shop::before {
		width: 18px;
		height: 18px;
		@include mixin.background(url('/image/common/ico_shop.svg') 'center center/100% 100%' no-repeat);
	}

	// 새로고침
	&reload::before {
		width: 20px;
		height: 20px;
		@include mixin.svg(#222 url('/image/common/ico_reflash.svg'));
	}

	// TODO 미성년자 사용 X
	&adult {
		width: 46px;
		height: 46px;
		border: 4px solid #eb5147;
		border-radius: 100%;
		background-color: #fff;
		text-align: center;

		&::before {
			@include mixin.font(700 '2.6rem/3.8rem');

			content: '19' !important;
		}

		&#{function.escape('.T=lg')} {
			width: 56px;
			height: 56px;

			&::before {
				@include mixin.font('3.5rem/4.8rem');
			}
		}
	}

	// 토글
	&toggle {
		&::before {
			width: 12px;
			height: 12px;
			@include mixin.svg(#666 url('/image/common/ico_arrow_down.svg'));
		}
	}

	// 삭제
	&remove {
		&::before {
			width: 24px;
			height: 24px;
			@include mixin.svg(#666 url('/image/common/ico_bottom_close.svg'));
		}

		&#{function.escape('.T=sm')}::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#888 url('/image/common/ico_close_small.svg'));
		}

		&-trash::before {
			width: 20px;
			height: 20px;
			@include mixin.svg(#444 url('/image/common/ico_trash_can.svg'));
		}
	}

	// 공유하기
	&share::before {
		width: 20px;
		height: 20px;
		@include mixin.svg(#444 url('/image/common/ico_share.svg'));
	}

	// 더보기
	&more {
		&::before {
			width: 15px;
			height: 15px;
			@include mixin.svg(#444 url('/image/common/ico_arrow_down.svg'));
		}

		&-load::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_reflash.svg'));
		}
	}

	// 랭킹
	&rank {
		&-up::before {
			width: 18px;
			height: 18px;
			@include mixin.svg(#f46600 url('/image/common/ico_up.svg'));
		}

		&-down::before {
			width: 18px;
			height: 18px;
			@include mixin.svg(var(--color_sub) url('/image/common/ico_up.svg'));
			transform: rotate(180deg);
		}

		&-unchanged::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#888 url('/image/common/ico_keep.svg'));
		}

		&-new[title]::before {
			@include mixin.font(var(--color_text_base) 700 '1.3rem');
			content: 'NEW'
		}
	}

	// TODO 컨트롤러
	&control {
		&-prev::before {
			width: 18px;
			height: 33px;
			@include mixin.svg(#101010 url('/image/common/ico_arrow_left_thin.svg'));
		}

		&-next::before {
			width: 18px;
			height: 33px;
			@include mixin.svg(#101010 url('/image/common/ico_arrow_right_thin.svg'));
		}
	}

	// 쿠폰 다운로드
	&download::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#222 url('/image/common/ico_download_large.svg'));
	}

	// 추가하기
	&add::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(var(--color_sub) url('/image/common/ico_plus.svg'));
	}

	// 배송지 추가
	&plus::before {
		width: 24px;
		height: 24px;
		@include mixin.svg(#888 url('/image/common/ico_plus_large.svg'));
	}

	// 순서편집
	&edit::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#666 url('/image/common/ico_edit.svg'));
	}

	// 순서편집 핸들러
	&sortable{
		&-handle::before {
			width: 20px;
			height: 20px;
			@include mixin.svg(#888 url('/image/common/ico_menu.svg'));
		}
	}

	// 선물하기
	&present {
		&::before {
			width: 24px;
			height: 24px;
			@include mixin.background(url('/image/common/ico_gift_large.svg') 'center center/100% 100%' no-repeat);
		}

		&#{function.escape('.T=sm')} {
			&::before {
				width: 16px;
				height: 16px;
				@include mixin.background(url('/image/common/ico_gift_small.svg') 'center center/100% 100%' no-repeat);
			}
		}

		&-fill {
			&::before {
				width: 24px;
				height: 24px;
				@include mixin.background(url('/image/common/ico_gift_large_active.svg') 'center center/100% 100%' no-repeat);
			}

			&#{function.escape('.T=sm')} {
				&::before {
					width: 16px;
					height: 16px;
					@include mixin.background(url('/image/common/ico_gift_small_active.svg') 'center center/100% 100%' no-repeat);
				}
			}
		}
	}

	// 수정
	&modify::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#888 url('/image/common/ico_create.svg'));
	}

	// 삭제
	&delete::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#888 url('/image/common/ico_delete.svg'));
	}

	// 비밀댓글
	&secret::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#888 url('/image/common/ico_lock.svg'));
	}

	// 체험단 후기 작성
	&experience{
		&-write::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#888 url('/image/common/ico_pencil.svg'));
		}
	}

	// 조회수
	&view {
		&:not([class*="#{function.escape('T=')}"])::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_eye.svg'));
		}

		&#{function.escape('.T=line')} {
			width: 20px;
			height: 20px;
			@include mixin.svg(#888 url('/image/common/ico_line_eye.svg'));
		}
	}

	// 영수증
	&receipt::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(var(--color_sub) url('/image/common/ico_receipt.svg'));
	}

	// 툴팁
	&tooltip {
		&::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#888 url('/image/common/ico_tooltip.svg'));
		}

		&-notice::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#666 url('/image/common/ico_caption_normal.svg'));
		}

		&-close::before {
			width: 20px;
			height: 20px;
			@include mixin.svg(#fff url('/image/common/ico_tooltips_close.svg'));
		}
	}

	// sns
	&sns {
		&-kakao::before {
			width: 52px;
			height: 52px;
			@include mixin.svg(#3b260a url('/image/common/ico_0xff21.svg'));
		}

		&-close::before {
			width: 31px;
			height: 31px;
			@include mixin.svg(#fff url('/image/common/ico_close_large.svg'));
		}
	}

	// 쿠폰 다운
	&coupon {
		&-download::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#fff url('/image/common/ico_download_small.svg'));
		}

		&-complete::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#fff url('/image/common/ico_check.svg'));
		}
	}

	// 시계
	&clock::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#888 url('/image/common/ico_clock.svg'));
	}

	// 옵션
	&option {
		&-remove::before {
			width: 27px;
			height: 27px;
			@include mixin.svg(#8c949e url('/image/common/ico_input_delete.svg'));
		}
	}

	// 선물 메시지
	&message::before {
		width: 20px;
		height: 20px;
		@include mixin.background(url('/image/common/ico_message.svg') '50% 50%/contain' no-repeat);
	}

	// 주문 성공
	&success::before {
		width: 28px;
		height: 28px;
		@include mixin.svg(#395da4 url('/image/common/ico_complete.svg'));
	}

	// 가이드
	&guide::before {
		width: 20px;
		height: 20px;
		@include mixin.svg(#222 url('/image/common/ico_tooltip.svg'));
	}

	// 복사
	&copy::before {
		width: 20px;
		height: 20px;
		@include mixin.svg(var(--color_sub) url('/image/common/ico_duplicate.svg'));
	}

	// 경고
	&caution::before {
		width: 20px;
		height: 20px;
		@include mixin.svg(#444 url('/image/common/ico_caption_normal.svg'));
	}

	// 이메일
	&email::before {
		width: 24px;
		height: 24px;
		@include mixin.svg(#222 url('/image/common/ico_email.svg'));
	}

	// 주의
	&notice::before {
		width: 44px;
		height: 44px;
		@include mixin.background(url('/image/common/ico_exclamation.svg') '50% 50%/contain' no-repeat);
	}

	// 이전으로
	&back::before {
		width: 16px;
		height: 16px;
		@include mixin.svg(#222 url('/image/common/ico_arrow_left.svg'));
	}

	// 스타 포인트
	&star-point::before {
		width: 20px;
		height: 20px;
		@include mixin.background(url('/image/common/ico_star_point.svg') '50% 50%/contain' no-repeat);
	}

	// 리워드 포인트
	&reward-point::before {
		width: 20px;
		height: 20px;
		@include mixin.background(url('/image/common/ico_reward_point.svg') '50% 50%/contain' no-repeat);
	}

	// 팝오버
	&popover {
		&-close::before {
			width: 16px;
			height: 16px;
			@include mixin.svg(#fff url('/image/common/ico_bottom_close.svg'));
		}
	}
}
