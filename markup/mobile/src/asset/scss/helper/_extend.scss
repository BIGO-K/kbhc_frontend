@charset 'utf-8';

@use 'sass:math';
@use '../helper/function';
@use '../helper/mixin';
@use '../helper/const';
@use '../helper/var';

/**
 * 헬퍼
 * 상속 확장 클래스
 */

/** 이미지 종류 */
// 상품
%imageProduct {
	background-color: #eee;
}

// 배너
%imageBanner {
	background-color: #eee;
}

// 브랜드
%imageBrand {
	overflow: hidden;
	position: relative;
	padding-top: 120%;
	width: 100%;
	background-color: #eee;
	text-align: center;

	&#{function.escape('.S=error')} {
		// &::before {
		// 	position: absolute;
		// 	top: 50%;
		// 	right: 8px;
		// 	left: 8px;
		// 	transform: translateY(-50%);
		// 	content: attr(title);
		// 	@include mixin.font(#666 '1.3rem/1.6rem' center, normal);
		// }
	}
}

/** 텍스트 */
// 오류 텍스트
%textAlert {
	position: relative;
	padding: 4px 0 0 1px;
	@include mixin.font(#ee4f10 '1.2rem/1.6rem' left);
}

// 유효성 텍스트
%textValid {
	display: block;
	position: relative;
	padding: 4px 0 0 1px;
	@include mixin.font(#01ba59 '1.2rem/1.8rem');

	&::before {
		margin: 5px 5px 0 1px;
		width: 8px;
		height: 8px;
		border-radius: 12px;
		background-color: #01ba59;
		content: '';
	}

	// 안전(기본), 보통, 위험, 사용불가
	$valid: (normal, #00aae2), (danger, #ff7200), (invalid, #f3041a);
	@each $state, $color in $valid {
		&#{function.escape('.S=valid-#{$state}')} {
			color: $color;

			&::before {
				background-color: $color;
			}
		}
	}
}

// 가격
%textPrice {
	> :not(sub) {
		@include mixin.font(#222 600);

		&::after {
			content: '원';
		}
	}
}

/** 버튼종류 */
// 찜하기
%btnLike {
	padding: 6px;

	&#{function.escape('.S=toggle-on')} {
		.ico_like::before {
			background-color: #ff5858 !important;
			@include mixin.svg(url('/image/common/ico_heart_on.svg'));
		}

		.uico_like::before {
			@include mixin.svg(#ff5858 url('/image/block/common/ico_heart_on.svg'));
		}
	}
}

// 최근 본 상품 (사이드플로팅버튼)
%btnProdetailRecent {
	overflow: hidden;
	position: fixed;
	z-index: const.$z_index_floating;
	right: 24px;
	bottom: 164px;
	width: 46px;
	height: 46px;
	border: 1px solid #6a6a6a;
	border-radius: 100%;
	opacity: 0;
	transition: opacity const.$time_fast;
	pointer-events: none;

	.image_product {
		display: block;
		width: 100%;
		height: 100%;
	}

	@at-root .btn_topmost#{function.escape('.S=btn-on')} ~ & {
		opacity: 1;
		pointer-events: auto;
	}
}

/** 찜아이템담기 (마이페이지 > MY찜 > 찜한 아이템, (팝업) 찜아이템담기 사용) */
%likeFolder {
	.btn_add-folder {
		padding-left: 24px;
		width: 100%;
		height: 100%;
		@include mixin.font(var(--color_variable) 600 '1.6rem/7.4rem' left);

		.ico_add {
			margin: 28px 2px 0 0;

			&::before {
				background-color: var(--color_variable);
			}
		}
	}

	ul {
		padding: 0 24px;

		li {
			position: relative;
			border: 1px solid #eee;
			border-radius: 16px;
			box-shadow: 2px 4px 10px 0 rgba(#d1d8de, 0.25);

			&:nth-child(n+2) {
				margin-top: 16px;
			}

			@include mixin.is('button, a', '>') {
				position: relative;
				padding: 16px 25px 16px 62px;
				width: 100%;
				height: 67px;
				text-align: left;

				@include mixin.is('.image_product, .ico_like') {
					position: absolute;
					top: 15px;
					left: 15px;
					width: 37px;
					height: 37px;
					border-radius: 8px;
					background-color: #f5f5f5;
					text-align: center;

					// 이미지 오류
					&#{function.escape('.S=error')}::before {
						width: 17px;
						height: 17px;
						@include mixin.svg(#cdcdcd url('/image/common/ico_heart_on.svg'));
					}
				}

				.ico_like::before {
					position: absolute;
					top: 50%;
					left: 50%;
					width: 13px;
					height: 13px;
					background-color: #cdcdcd;
					transform: translate(-50%, -50%);
				}

				p {
					display: flex;
					align-items: center;
					padding-top: 7px;
					@include mixin.font(500 '1.5rem/1.4');

					span {
						@include mixin.text-ellipsis(1, inline);
					}

					small {
						margin-left: 7px;
						@include mixin.font(#666 400 '1.4rem', nowrap);
					}
				}
			}
		}
	}
}

/** 리뷰 작성 ((팝업) 마이페이지 > MY리뷰 작성, 체험단후기 작성에 사용) */
%reviewWrite {
	> [class*='-product'] {
		padding: 0 24px;
	}

	// 별점
	[class*='-starscore'] {
		padding-bottom: 5px;

		ul {
			display: inline-block;

			li#{function.escape('.S=starscore-on')} {
				.ico_star-fill::before {
					background-color: var(--color_main);
				}
			}
		}

		li {
			float: left;

			&:nth-child(n+2) {
				margin-left: 1px;
			}

			.ico_star-fill::before {
				width: 52px;
				height: 52px;
				background-color: #eee;
			}
		}
	}

	> section {
		padding: 40px 0 34px;
		border-bottom: 1px solid #eee;
		text-align: center;

		h6 {
			padding-bottom: 20px;
			@include mixin.font(#222 600 '2rem/2.6rem');
		}
	}

	> .mm_inner {
		.mm_text-label {
			padding: 31px 0 15px;
			font-size: 2rem;

			&:first-of-type {
				padding-top: 23px;
			}

			.mm_text-variable {
				@include mixin.font(500 '1.5rem')
			}
		}
	}
}